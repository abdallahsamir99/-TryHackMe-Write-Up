<h1>TryHackMe: Basic Pentesting</h1>
<br>

> This is a machine that allows you to practice web app hacking and privilege escalation
> Room: https://tryhackme.com/room/basicpentestingjt


![moMbBki](https://user-images.githubusercontent.com/92990208/194395818-95f2a157-f127-4d8b-a2a7-b1924936b59a.png)

> Let's start with scan the machine
The first thing we need to do is scan the machine To show the open ports and know the services that run on this machine.

The results are presented in the following screenshot:
Basic Nmap Scan


![1](https://user-images.githubusercontent.com/92990208/194396042-d0981a29-7ef3-4ccf-8c53-70b71e06efe6.png)


Nmap gives us this result and only 4 ports are open

The next move is to check the contents of the website hosted on port 80


![2](https://user-images.githubusercontent.com/92990208/194396131-7f2ad199-e4db-4482-801a-e481c546490a.png)

By looking for the first time, we can see that there is nothing important on this page.

But what if we check the page source?


![3](https://user-images.githubusercontent.com/92990208/194396187-bda80517-4653-42ff-a80d-3ed6033a614c.png)


Let's run dirbuster in order to find any directories on the server


![4](https://user-images.githubusercontent.com/92990208/194396282-11fd08ca-8eb7-4a8e-bd75-2f5331454319.png)


we'll find our hidden directory (**/development**). Let's fill that in and take a look in the folder.

![5](https://user-images.githubusercontent.com/92990208/194396353-6b67383d-de89-4e58-b03d-57fd0536f5d4.png)


![6](https://user-images.githubusercontent.com/92990208/194396382-a39c40b0-1700-479c-8264-71c6f910cc14.png)



![7](https://user-images.githubusercontent.com/92990208/194396402-36479b4f-5e6b-4931-a272-63801192a685.png)


There are two files there. One of them mentions that a user referred to as "J" has a weak password.
Now we can use enum4linux to get usernames


![8](https://user-images.githubusercontent.com/92990208/194396576-1724ec48-1d82-4356-bd82-a9f9b9bc08a4.png)

![9](https://user-images.githubusercontent.com/92990208/194396588-95dfadb8-85dc-482e-9b49-7b653ba1dfdd.png)



We can find here that there are two users **kay / Jan**

Now we can use Hydra to Cracking the password


![10](https://user-images.githubusercontent.com/92990208/194396649-e85dc99f-b916-4c6e-80da-fc92552d1fc5.png)

From this point, we can log in to the system with Jan credentials using SSH.

![11](https://user-images.githubusercontent.com/92990208/194396761-cb7817f8-d07c-4c2a-b46d-1d560ab0b90e.png)


> Privilege Escalation

One of the best tools for Linux privilege escalation is **linpeas**

We need now to move linpeas from the local machine to the victim machine


![12](https://user-images.githubusercontent.com/92990208/194397007-64bb684f-4f19-4bf2-ac54-2e86c361dcfa.png)




![13](https://user-images.githubusercontent.com/92990208/194397040-7b851485-3e66-46ef-aaf4-682a09f17b8d.png)


![14](https://user-images.githubusercontent.com/92990208/194397078-9caf4f76-9863-4bb7-8ee2-4be67aa3b30a.png)


We can find here that there is a private ssh key in /home/kay/.ssh/id_rsa


![15](https://user-images.githubusercontent.com/92990208/194397122-78afc2f8-4b92-42f3-845d-5eed9cec6c70.png)


![16](https://user-images.githubusercontent.com/92990208/194397161-597db301-1764-4d6e-ad1b-7a62fc334c14.png)


Save this private key in the local machine and try to log in to ssh


![18](https://user-images.githubusercontent.com/92990208/194397222-c90c25c3-573c-46ed-87c5-6b85dbc6674c.png)


![19](https://user-images.githubusercontent.com/92990208/194397237-b0a12dcf-009f-4d26-8c60-d0975cc43a6a.png)

It appears that the kay's RSA key is protected with a passphrase. It can be solved with John The Ripper password cracking tool.

There's a specific John The Ripper tool called ssh2john.py which can extract the crackable hash from the SSH private key.

![20](https://user-images.githubusercontent.com/92990208/194397300-7e91d99b-d301-41ce-9741-db7feb3c98dd.png)


![21](https://user-images.githubusercontent.com/92990208/194397355-f8115eee-6123-4e19-9c44-35160f3d3156.png)



The kay's SSH private key passphrase is beeswax.

Let's try SSH kay's user account one more time


![22](https://user-images.githubusercontent.com/92990208/194397412-2cc6820c-bec9-4266-a7e7-934f700624e3.png)


now we can read pass. bak file